<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<div th:replace="fragments/resources :: headTags"></div>
	<title>E-learning Platform</title>
</head>

<body>
	<header class="container-fluid">
		<img class="w-100"
			src="https://be-original.co.uk/wp-content/uploads/2019/11/wh-you-need-a-LInkedIn-header-850x266.jpg"
			alt="e-learning">
	</header>
	<main>
		<h1 class="text-uppercase text-center my-4">e-learning platform</h1>
		<div class="container">
			<div class="d-flex d-flex-row justfy-content-center text-center mb-2">
				<div class="card mx-3" style="width: auto;">
					<img src="https://www.claruscommerce.com/wp-content/uploads/2018/11/loyalty-lessons-from-2018-0x0.jpg"
						class="card-img-top" alt="...">
					<div class="card-body">
						<h5 class="card-title">Gestore corsi</h5>
						<a th:href="@{/amministrazione/corsi/list}" class="btn btn-primary">Vai alla modifica</a>
					</div>
				</div>
				<div class="card mx-3" style="width: auto;">
					<img src="https://www.claruscommerce.com/wp-content/uploads/2018/11/loyalty-lessons-from-2018-0x0.jpg"
						class="card-img-top" alt="...">
					<div class="card-body">
						<h5 class="card-title">Gestore insegnanti</h5>
						<a th:href="@{/amministrazione/insegnanti}" class="btn btn-primary">Vai alla modifica</a>
					</div>
				</div>
			</div>
			
			<h4>Corsi più visualizzati</h4>
			<div class="box">
				<table class="table" >
					<thead>
						<tr>
							<th>Titolo</th>
							<th>Data di creazione</th>
							<th>Livello</th>
							<th></th>
						</tr>
					</thead >
					<tbody>
						<tr th:each="item : ${corsi}">
							<td th:text="${item.titolo}"></td>
							<td th:text="${item.dataCreazione}"></td>
							<td th:text="${item.livello}"></td >
							<td>							
								<a class="btn btn-primary" th:href="@{|/amministrazione/corsi/detail/${item.id}|}"><i class="fas fa-info-circle"></i></a>
							</td>
						</tr >
					</tbody>
				</table >
			</div >
			
			<h4>Corsi più recenti</h4>
			<table class="table" >
					<thead>
						<tr>
							<th>Titolo</th>
							<th>Data di creazione</th>
							<th>Livello</th>
							<th></th>
						</tr>
					</thead >
					<tbody>
						<tr th:each="item : ${listaRecente}">
							<td th:text="${item.titolo}"></td>
							<td th:text="${item.dataCreazione}"></td>
							<td th:text="${item.livello}"></td >
							<td>							
								<a class="btn btn-primary" th:href="@{|/amministrazione/corsi/detail/${item.id}|}"><i class="fas fa-info-circle"></i></a>
							</td>
						</tr >
					</tbody>
				</table >
				
				<h4>Prossime lezioni prenotate</h4>
				<div class="accordion" id="accordionExample">
					  <div class="accordion-item" th:each="item : ${insegnanti}">
					    <h2 class="accordion-header" id="headingOne">
					      <button class="accordion-button" th:text="|${item.cognome} ${item.nome}|" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"></button>
					    </h2>
					    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
					      <div class="accordion-body" th:each="pren : ${item.getPrenotazioniFuture()}" th:text="|${pren.dataPrenotazione}, ${pren.fasciaOraria.fasciaOraria}|">
					      </div>
					    </div>
					  </div>
				</div>
				
			<a th:href="@{/}" class="btn btn-primary my-5">Index</a>
		</div >
		
	</main>

	<div th:replace="fragments/resources :: scripts"></div>
</body>

</html>